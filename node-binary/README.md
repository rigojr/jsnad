# The Node Binary

## Command options

`node --help`

Flags to modify the JavaScript runtime engine.
`node --v8-options`

## Checking syntax

Just to check syntax without actually running it.

- Useful when code has a setup/teardown cost or when it is generated.

`node --check app.js`
`node -c app.js`

Print output in case of syntax error.

## Dynamic evaluation

Evaluate code on the `shell`.

- Useful for quickly checking a code or small cross-platform commands.

- There are only two flags that can make dynamic evaluation:
  - `-p` or `--print` evaluates and expression and print the result.
  - `e` or `--eval` evaluates without printing the result.

`node --print "1+1"`
`node --eval "1+1"`
`node -e "console.log(1+1)"`
`node -p "console.log(1+1)"`

*Curiosity*
in `node -p "console.log(1+1)"` will print 2 and `undefined` since the return of `console.log(...)` is that. It occurs when the browser console is being used, the result of some operation are `undefined`.

All Node core modules can be accessed by their namespaces within the code evaluation context:
`node -p "fs.readdirSync('.').filter((f) => /.js$/.test(f))"`
It prints all the files with the extension `.js` found in the current directory.

## Preloading CommonJS Modules

A CommonJS module can be preload before anything else loads.

- Useful when consuming modules that instrument or configure the node process in some way, [dotenv](https://www.npmjs.com/package/dotenv#preload) is a good example.

`-r` or `--require`.

`node -r ./preload.js app.js`
`preload.js` is preload before `app.js`.

## Stack trace limit.

Generated by any Error occurs, stack trace contains the last ten stack frames (function call sites) at the point when the trace occurred.

The stack trace limit can be change by the `--v8-options` flag named `--stack-trace-limit`.

- Useful when checking the flow of the application through various functions.

`node --stack-trace-limit=101 app.js `

- In develop mode can be helpful for debugging tasks. In production should keep in the default limit since can overhead retaining long stacks.